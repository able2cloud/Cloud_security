STEP 1

Pré-req install  gcloud and kubernetes

https://cloud.google.com/sdk/docs/install-sdk#windows

https://kubernetes.io/docs/tasks/tools/install-kubectl-windows/
#######################
#STEP 2 configurar gcloud 

gcloud auth list

gcloud config configurations create labs

gcloud config set project xxxx

#olhar no no gcp o id

gcloud config set account email

#################

#Step 3 


#Habilitando as api's: 

#Container registry api

# Kubernetes Engine api
######################
#Step 4 - terminal

#Criando cluster

gcloud container clusters create-auto hello-cluster \
    --region=us-west2
    
#    Pegando as credencias do cluster
    
    gcloud container clusters get-credentials hello-cluster \
    --region us-west2
    
#    Criando uma aplicação no cluster
    
    kubectl create deployment hello-server \
    --image=us-docker.pkg.dev/google-samples/containers/gke/hello-app:1.0

#expondo a porta do serviço do cluster

kubectl expose deployment hello-server --type LoadBalancer --port 80 --target-port 8080

#Listando o serviço

kubectl get pods


#Listando o service
kubectl get service hello-server


#Destruindo o cluster
gcloud container clusters delete hello-cluster \
    --region us-west2
